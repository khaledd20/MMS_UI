<div class="attendees">

  <div *ngIf="errorMessage" class="error">{{ errorMessage }}</div>

  <div *ngIf="permissions.includes('Delete Attendee')" >
    <h2>Attendees</h2>

  <!-- Search Form -->
  <form [formGroup]="attendeeForm" (ngSubmit)="searchUsers()">
    <label for="query">Search for User:</label>
    <input id="query" formControlName="query" />
    <button type="submit" [disabled]="isSearching">Search</button>
  </form>

  <!-- Search Results -->
  <ul *ngIf="searchResults.length > 0">
    <li *ngFor="let user of searchResults">
      {{ user.name }} ({{ user.email }})
      <button (click)="addAttendee(user.userId)">Add</button>
    </li>
  </ul>

  <p *ngIf="isSearching">Searching...</p>
  <p *ngIf="!isSearching && searchResults.length === 0">No results found.</p>
  </div>
  <!-- Attendees List -->
  <h3>Meeting Attendees</h3>
  <ul *ngIf="attendees.length > 0">
    <li *ngFor="let attendee of attendees">
      {{ attendee.name }} ({{ attendee.email }})
      <button *ngIf="permissions.includes('Delete Attendee')" 
       (click)="removeAttendee(attendee.id)">Remove</button>
    </li>
  </ul>

  <p *ngIf="attendees.length === 0">No attendees found.</p>
</div>
